!function(){"use strict";var t="(min-width: 10cm)",e=["jpg","jpeg","gif","png"],r=function(e){if(window.matchMedia(t).matches){var r=e.currentTarget.querySelector(".thumb"),a=r.src==r.dataset.fullSrc;r.setAttribute("width",a?r.dataset.thumbWidth:r.dataset.fullWidth),r.setAttribute("height",a?r.dataset.thumbHeight:r.dataset.fullHeight),r.src=a?r.dataset.thumbSrc:r.dataset.fullSrc,e.preventDefault()}},a=function(t){var a=(t||document).querySelectorAll(".thumb"),n=!0,i=!1,d=void 0;try{for(var u,c=a[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=u.value,o=l.parentNode;if(o){var h=o.href.split(".").pop();if(e.includes(h)){l.dataset.thumbWidth=l.getAttribute("width"),l.dataset.thumbHeight=l.getAttribute("height"),l.dataset.thumbSrc=l.src,l.dataset.fullSrc=o.href;var s=o.parentNode;if(s){var f=s.querySelector(".filesize > em");if(f){var m=f.innerText.match(/(\d+)x(\d+)/);null!==m&&(l.dataset.fullWidth=m[1],l.dataset.fullHeight=m[2],o.addEventListener("click",r))}}}}}}catch(t){i=!0,d=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw d}}},n=function(){document.head.insertAdjacentHTML("beforeend",'<style type="text/css">\n        @media only screen and '+t+' {\n          a img.thumb {\n            max-width: calc(100% - 40px);\n            margin: 0;\n            padding: 2px 20px;\n          }\n        \n          a img.thumb[src*="/src/"] {\n            height: auto;\n          }\n        }\n      </style>')},i=function(){if(!document.querySelector("#de-main")&&(n(),a(),"MutationObserver"in window)){var t=new MutationObserver(function(t){t.forEach(function(t){var e=!0,r=!1,n=void 0;try{for(var i,d=t.addedNodes[Symbol.iterator]();!(e=(i=d.next()).done);e=!0){var u=i.value;if(!u.querySelectorAll)return;a(u)}}catch(t){r=!0,n=t}finally{try{!e&&d.return&&d.return()}finally{if(r)throw n}}})});t.observe(document.body,{childList:!0,subtree:!0})}};document.body?i():document.addEventListener("DOMContentLoaded",i)}();