!function(){"use strict";var t="(min-width: 10cm)",e=["jpg","jpeg","gif","png"],r=function(e){if(window.matchMedia(t).matches){var r=e.currentTarget.querySelector(".thumb"),a=r.src==r.dataset.fullSrc;r.setAttribute("width",a?r.dataset.thumbWidth:r.dataset.fullWidth),r.setAttribute("height",a?r.dataset.thumbHeight:r.dataset.fullHeight),r.src=a?r.dataset.thumbSrc:r.dataset.fullSrc,e.preventDefault()}},a=function(t){var a=(t||document).querySelectorAll(".thumb"),i=!0,n=!1,d=void 0;try{for(var u,o=a[Symbol.iterator]();!(i=(u=o.next()).done);i=!0){var c=u.value,l=c.parentNode;if(l){var h=l.href.split(".").pop();if(e.includes(h)){c.dataset.thumbWidth=c.getAttribute("width"),c.dataset.thumbHeight=c.getAttribute("height"),c.dataset.thumbSrc=c.src,c.dataset.fullSrc=l.href;var s=l.parentNode;if(s){var f=s.querySelector(".filesize > em");if(f){var m=f.innerText.match(/(\d*)x(\d*)/);c.dataset.fullWidth=m[1],c.dataset.fullHeight=m[2],l.addEventListener("click",r)}}}}}}catch(t){n=!0,d=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw d}}},i=function(){document.head.insertAdjacentHTML("beforeend",'<style type="text/css">\n        a img.thumb {\n          max-width: 100%;\n          height: auto;\n          box-sizing: border-box;\n          margin: 0;\n          padding: 2px 20px;\n        }\n      </style>')},n=function(){if(!document.querySelector("#de-main")){i(),a();var t=new MutationObserver(function(t){t.forEach(function(t){var e=!0,r=!1,i=void 0;try{for(var n,d=t.addedNodes[Symbol.iterator]();!(e=(n=d.next()).done);e=!0){var u=n.value;if(!u.querySelectorAll)return;a(u)}}catch(t){r=!0,i=t}finally{try{!e&&d.return&&d.return()}finally{if(r)throw i}}})});t.observe(document.body,{childList:!0,subtree:!0})}};document.body?n():document.addEventListener("DOMContentLoaded",n)}();