!function(){"use strict";var e=["webm","mp4","ogv"],r="iichan-video-player",t=function(e){var t=e.currentTarget.parentNode;if("on"===e.currentTarget.videoMode)e.currentTarget.videoMode="off",t.removeChild(document.getElementById(e.currentTarget.videoplayerid)),e.currentTarget.innerHTML=e.currentTarget.thumbHTML;else{e.currentTarget.videoMode="on";var n=document.createElement("video");n.id="video"+(""+Math.random()).replace(/\D/g,""),n.poster=e.currentTarget.thumbSrc,n.src=e.currentTarget.href,n.autoplay=!0,n.controls=!0,n.loop=!0,n.muted=!0,n.classList.add(r),e.currentTarget.videoplayerid=n.id,t.insertBefore(n,e.currentTarget.nextSibling),e.currentTarget.innerHTML='<div style="padding: 2px 20px;">[Свернуть видео]</div>'}e.preventDefault()},n=function(r){var n=(r||document).querySelectorAll(".thumb"),o=!0,i=!1,a=void 0;try{for(var d,c=n[Symbol.iterator]();!(o=(d=c.next()).done);o=!0){var u=d.value,l=u.parentNode;if(l){var v=l.href.split(".").pop();e.includes(v)&&(l.thumbSrc=u.src,l.thumbHTML=l.innerHTML,l.addEventListener("click",t))}}}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}},o=function(){return document.head.insertAdjacentHTML("beforeend",'<style type="text/css">.'+r+" {\n      max-width: 100%;\n      height: auto;\n      box-sizing: border-box;\n      padding: 2px 20px;\n    }</style>")},i=function(){if(!document.querySelector("#de-main")){o(),n();var e=new MutationObserver(function(e){e.forEach(function(e){var r=!0,t=!1,o=void 0;try{for(var i,a=e.addedNodes[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var d=i.value;if(!d.querySelectorAll)return;n(d)}}catch(e){t=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(t)throw o}}})});e.observe(document.body,{childList:!0,subtree:!0})}};document.body?i():document.addEventListener("DOMContentLoaded",i)}();