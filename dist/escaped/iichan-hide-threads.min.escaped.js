try{eval("(()=>{\"use strict\";const e=50,t=\"iichan_hidden_threads\",n=\"iichan-hide-thread-btn\",d=\"iichan-thread-hidden\",i=\"iichan-hidden-thread-placeholder\",c=window.location.href.match(/(?:\\w+\\.\\w+\\/)(.*)(?=\\/)/)[1],o=()=>{const e=JSON.parse(window.localStorage.getItem(t)||\"{}\");return Array.isArray(e)?{}:e},r=e=>{window.localStorage.setItem(t,JSON.stringify(e))},a=(e,t)=>{const n=o();if(n[c]||(n[c]=[]),t)n[c].includes(e)||n[c].push(e);else{const t=n[c].indexOf(e);if(t===-1)return;n[c].splice(t,1)}r(n)},s=e=>{if(e){const t=e.querySelector(\":scope > label\");if(t){const d=document.createElement(\"span\");d.title=\"Скрыть тред\",d.classList.add(n),d.dataset.threadId=e.id,d.addEventListener(\"click\",m),e.insertBefore(d,t.nextSibling)}}},l=e=>{if(e){const t=document.createElement(\"div\");t.title=\"Скрыть тред\",t.classList.add(n,\"reply\"),t.dataset.threadId=e.id,t.addEventListener(\"click\",p),e.querySelector(\".catthread\").appendChild(t)}},u=t=>{if(t){const n=t.id.split(\"-\").pop();let d=t.querySelector(\".filetitle\").innerText||t.querySelector(\"blockquote\").innerText;d=d.substr(0,e);const c=\"iichan-hidden-\"+t.id;t.insertAdjacentHTML(\"beforebegin\",`\r\n      <div class=\"reply ${i}\" id=\"${c}\">Тред <a>№${n}</a> скрыт (${d||\"изображение\"})</div>\r\n    `);const o=t.previousElementSibling.querySelector(\":scope > a\");o.dataset.threadId=t.id,o.addEventListener(\"click\",f)}},h=e=>{const t=!!document.querySelector(\".catthreadlist\"),n=t?\".catthreadlist a\":\"[id^=thread]\",d=e&&e.id.startsWith(\"thread-\")?[e]:(e||document).querySelectorAll(n),i=t?l:s,r=o();for(const a of d)a.id=t?\"thread-\"+a.title.match(/^#(\\d+)\\s/)[1]:a.id,i(a),r[c]&&r[c].includes(a.id)&&m(a.id)},f=e=>{const t=e.target?e.target.dataset.threadId:e;a(t,!1);const n=document.getElementById(t);if(n){n.classList.remove(d);const e=document.getElementById(\"iichan-hidden-\"+t);e&&e.parentElement.removeChild(e)}},m=e=>{const t=e.target?e.target.dataset.threadId:e;a(t,!0);const n=document.getElementById(t);if(n&&n.parentNode){n.classList.add(d);const e=!!document.querySelector(\".catthreadlist\");e||u(n)}},p=e=>{const t=e.target?e.target.dataset.threadId:e,n=t.split(\"-\").pop(),i=document.getElementById(\"thread-\"+n);a(t,i.classList.toggle(d)),e.preventDefault&&e.preventDefault()},y=()=>{document.head.insertAdjacentHTML(\"beforeend\",`<style type=\"text/css\">\r\n        .${i} {\r\n            pointer-events: none;\r\n        }\r\n        \r\n        .${i} a {\r\n            cursor: pointer;\r\n            pointer-events: auto;\r\n        }\r\n        \r\n        .${i}:hover + div,\r\n        .${i}:hover + div + br {\r\n            display: block !important;\r\n        }\r\n        \r\n        .${i} + div {\r\n            display: none;\r\n        }\r\n        .${i} + div +  br {\r\n            display: none;\r\n        }\r\n        \r\n        .${n} {\r\n            margin-left: 0.2em;\r\n            cursor: pointer;\r\n        }\r\n        \r\n        .${n}::after {\r\n            content: '[✕]';\r\n        }\r\n        \r\n        .catthreadlist a {\r\n          position: relative;\r\n          transition: all .3s ease-in-out;\r\n        }\r\n        \r\n        .catthreadlist .iichan-thread-hidden {\r\n          opacity: .6;\r\n        }\r\n        \r\n        .catthreadlist .iichan-thread-hidden:not(:hover) {\r\n          opacity: .2;\r\n          filter: blur(1px);\r\n        }\r\n        \r\n        .catthread:hover .${n} {\r\n          display: block;\r\n        }\r\n        \r\n        .catthread .${n} {\r\n          text-decoration: none;\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          display: none;\r\n          width: 25px;\r\n          height: 25px;\r\n        }\r\n        \r\n        .catthreadlist .iichan-thread-hidden .${n}::after {\r\n          content: '[┼]';\r\n        }\r\n      </style>`)},g=()=>{if(!document.querySelector(\"#de-main\")&&!document.querySelector(\"body.replypage\")){y(),h();const e=new MutationObserver(e=>{e.forEach(e=>{for(const t of e.addedNodes){if(!t.querySelectorAll)return;h(t)}})});e.observe(document.body,{childList:!0,subtree:!0})}};document.body?g():document.addEventListener(\"DOMContentLoaded\",g)})();");}catch(e){}