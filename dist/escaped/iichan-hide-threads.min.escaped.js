try{eval("(()=>{\"use strict\";const e=50,t=\"iichan_hidden_threads\",n=\"iichan-hide-thread-btn\",o=\"iichan-hidden-thread-placeholder\",i=window.location.href.match(/(?:\\w+\\.\\w+\\/)(.*)(?=\\/)/)[1],c=()=>{const e=JSON.parse(window.localStorage.getItem(t)||\"{}\");return Array.isArray(e)?{}:e},d=e=>{window.localStorage.setItem(t,JSON.stringify(e))},r=e=>{const t=e&&e.id.startsWith(\"thread-\")?[e]:(e||document).querySelectorAll(\"[id^=thread]\");for(const o of t){const e=o.querySelector(\":scope > label\");if(e){e.insertAdjacentHTML(\"afterend\",`\r\n        <span class=\"${n}\" title=\"Скрыть тред\"></span>\r\n      `);const t=e.nextElementSibling;t.threadId=o.id,t.addEventListener(\"click\",a)}}},s=e=>{const t=\"object\"==typeof e?e.target.threadId:e,n=c();n[i]||(n[i]=[]);const o=n[i].indexOf(t);if(o!==-1){n[i].splice(o,1),d(n);const e=document.getElementById(t);if(e){const e=document.getElementById(\"iichan-hidden-\"+t);e&&e.parentElement.removeChild(e)}}},a=t=>{const n=\"object\"==typeof t?t.target.threadId:t,r=document.getElementById(n);if(r&&r.parentNode){const t=n.split(\"-\")[1];let a=r.querySelector(\".filetitle\").innerText||r.querySelector(\"blockquote\").innerText;a=a.substr(0,e);const l=\"iichan-hidden-\"+n;r.insertAdjacentHTML(\"beforebegin\",`\r\n      <div class=\"reply ${o}\" id=\"${l}\">Тред <a>№${t}</a> скрыт (${a||\"изображение\"})</div>\r\n    `);const u=r.previousElementSibling.querySelector(\":scope > a\");u.threadId=n,u.addEventListener(\"click\",s);const f=c();f[i]||(f[i]=[]),f[i].includes(n)||(f[i].push(n),d(f))}},l=()=>{const e=c();if(e[i])for(const t of e[i])a(t)},u=()=>{document.head.insertAdjacentHTML(\"beforeend\",`<style type=\"text/css\">\r\n        .${o} {\r\n            pointer-events: none;\r\n        }\r\n        \r\n        .${o} a {\r\n            cursor: pointer;\r\n            pointer-events: auto;\r\n        }\r\n        \r\n        .${o}:hover + div,\r\n        .${o}:hover + div + br {\r\n            display: block !important;\r\n        }\r\n        \r\n        .${o} + div {\r\n            display: none;\r\n        }\r\n        .${o} + div +  br {\r\n            display: none;\r\n        }\r\n        \r\n        .${n} {\r\n            margin-left: 0.2em;\r\n            cursor: pointer;\r\n        }\r\n        \r\n        .${n}::after {\r\n            content: '[✕]';\r\n        }\r\n      </style>`)},f=()=>{const e=document.querySelectorAll(\"[id^=thread]\");if(!(e.length<=1)){u(),r(),l();const e=new MutationObserver(e=>{e.forEach(e=>{for(const t of e.addedNodes){if(!t.querySelectorAll)return;r(t)}})});e.observe(document.body,{childList:!0,subtree:!0})}};document.body?f():document.addEventListener(\"DOMContentLoaded\",f)})();");}catch(e){}